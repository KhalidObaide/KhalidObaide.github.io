(function(t){function e(e){for(var i,r,o=e[0],u=e[1],d=e[2],c=0,f=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},3087:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[t._v("Mapsi, Map Generator and Path Finding visualizer")]),n("Map")],1)},a=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"map"},[this.modalDisplay?i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal"},[i("div",{staticClass:"modal-header"},[i("h4",[t._v("Help Menu")]),i("img",{attrs:{src:n("89fe")},on:{click:function(){t.modalDisplay=!1}}})]),t._m(0)])]):t._e(),i("div",{staticStyle:{display:"flex","column-gap":"10px"}},[i("button",{staticClass:"btn reset",on:{click:t.resetGrid}},[t._v("Reset Map")]),i("button",{staticClass:"btn action",on:{click:t.visualize}},[t._v("Visualize")]),i("button",{staticClass:"btn generate",on:{click:function(e){return t.generateRandomMap("city")}}},[t._v("City Mode")]),i("button",{staticClass:"btn generate",on:{click:function(e){return t.generateRandomMap("desert")}}},[t._v("Desert Mode")]),i("button",{staticClass:"btn generate",on:{click:function(e){return t.generateRandomMap("cave")}}},[t._v("Cave Mode")]),i("button",{staticClass:"btn generate",on:{click:function(e){return t.generateRandomMap("random")}}},[t._v("Random Map")]),i("button",{staticClass:"btn primary",on:{click:t.help}},[t._v("Help?")])]),i("div",{staticClass:"node-container"},t._l(t.nodes,(function(e){return i("Node",{key:e.x+"-"+e.y,attrs:{x:e.x,y:e.y,className:e.className},on:{startBuilding:t.startBuilding,build:t.build,stopBuilding:t.stopBuilding}})})),1)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-content"},[n("ul",[n("li",[t._v("Press `w` to enable building walls & Click on any tile to place walls")]),n("li",[t._v("Press `s` to be able to place Starting Point")]),n("li",[t._v("Press `e` to be able to place Ending Point")])])])}],u=(n("7db0"),n("d81d"),n("4de4"),n("d3b7"),n("25f0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,attrs:{id:"N"+t.x.toString()+"-"+t.y.toString()},on:{mousedown:t.startBuilding,mouseover:t.build,click:function(e){return t.build(!1)},mouseup:t.stopBuilding}})}),d=[],l=(n("a9e3"),{name:"Node",props:{x:{requried:!0,type:Number},y:{requried:!0,type:Number},className:{requried:!1,type:String,default:"node"}},methods:{startBuilding:function(){this.$emit("startBuilding")},stopBuilding:function(){this.$emit("stopBuilding")},build:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$emit("build",{x:this.x,y:this.y,checkForBuilder:t})}}}),c=l,f=n("2877"),h=Object(f["a"])(c,u,d,!1,null,null,null),p=h.exports,m=n("d4ec"),v=n("ade3"),b=(n("159b"),function t(){var e=this;Object(m["a"])(this,t),Object(v["a"])(this,"nodes",[]),Object(v["a"])(this,"walls",[]),Object(v["a"])(this,"start",null),Object(v["a"])(this,"end",null),Object(v["a"])(this,"setNodes",(function(t){e.nodes=t})),Object(v["a"])(this,"setWalls",(function(t){e.walls=t})),Object(v["a"])(this,"setStart",(function(t){e.start=-1!=t?t:e.start})),Object(v["a"])(this,"setEnd",(function(t){e.end=-1!=t?t:e.end})),Object(v["a"])(this,"removeFromList",(function(t,e){var n=[];return t.forEach((function(t){t.idx!=e.idx&&n.push(t)})),n})),Object(v["a"])(this,"arrayContains",(function(t,e){return t.some((function(t){return t.idx==e.idx}))})),Object(v["a"])(this,"getNeighbours",(function(t){var n=[],i=e.nodes[t.idx],s=e.nodes.find((function(t){return t.x==i.x&&t.y==i.y-1}));s&&n.push(e.findCosts(e.nodes.indexOf(s)));var a=e.nodes.find((function(t){return t.x==i.x&&t.y==i.y+1}));a&&n.push(e.findCosts(e.nodes.indexOf(a)));var r=e.nodes.find((function(t){return t.x==i.x+1&&t.y==i.y}));r&&n.push(e.findCosts(e.nodes.indexOf(r)));var o=e.nodes.find((function(t){return t.x==i.x-1&&t.y==i.y}));return o&&n.push(e.findCosts(e.nodes.indexOf(o))),n})),Object(v["a"])(this,"filterTraversables",(function(t){return t.filter((function(t){return t.isTraversable}))})),Object(v["a"])(this,"getDistance",(function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.abs(Math.sqrt(i*i+n*n))})),Object(v["a"])(this,"findCosts",(function(t){var n={idx:t,gCost:e.getDistance(e.nodes[t],e.nodes[e.start]),hCost:e.getDistance(e.nodes[t],e.nodes[e.end]),isTraversable:!e.walls.some((function(e){return e==t}))};return n.fCost=n.gCost+n.hCost,n})),Object(v["a"])(this,"findPath",(function(){if(null==e.start||null==e.end||e.nodes.length<2)throw new Error("Either start/end node is null or nodes contains less then 2 elements");var t=[],n=[];t.push(e.findCosts(e.start));var i=null,s=function(){var s=t.reduce((function(t,e){return t.fCost<e.fCost?t:e}));if(s.idx==e.end)return"break";t=e.removeFromList(t,s),n.push(s),e.filterTraversables(e.getNeighbours(s)).forEach((function(a){e.arrayContains(t,a)||e.arrayContains(n,a)||(a.parentNode=s,i=a,t.push(a)),e.arrayContains(t,a)&&a.hCost<s.hCost&&(a.parentNode=s,i=a)}))};while(t.length>0){var a=s();if("break"===a)break}var r=null;while(i){var o=i.parentNode;i.parentNode=r,r=i,i=o}return r}))}),g=b,y=function t(){var e=this;Object(m["a"])(this,t),Object(v["a"])(this,"xdimensions",20),Object(v["a"])(this,"ydimensions",10),Object(v["a"])(this,"maxTunnels",50),Object(v["a"])(this,"maxLength",8),Object(v["a"])(this,"createArray",(function(t,e,n){for(var i=[],s=0;s<n;s++){i.push([]);for(var a=0;a<e;a++)i[s].push(t)}return i})),Object(v["a"])(this,"createMap",(function(){var t,n=e.xdimensions,i=e.ydimensions,s=e.maxTunnels,a=e.maxLength,r=e.createArray(1,n,i),o=Math.floor(Math.random()*i),u=Math.floor(Math.random()*n),d=[[-1,0],[1,0],[0,-1],[0,1]],l=[];while(s&&n&&i&&a){do{t=d[Math.floor(Math.random()*d.length)]}while(t[0]===-l[0]&&t[1]===-l[1]||t[0]===l[0]&&t[1]===l[1]);var c=Math.ceil(Math.random()*a),f=0;while(f<c){if(0===o&&-1===t[0]||0===u&&-1===t[1]||o===i-1&&1===t[0]||u===n-1&&1===t[1])break;r[o][u]=0,o+=t[0],u+=t[1],f++}f&&(l=t,s--)}return r}))},x=y,O={name:"Map",components:{Node:p},data:function(){return{modalDisplay:!1,mapWidth:40,mapHeight:30,nodes:[],isBuilding:!1,destroyActive:!1,buildingType:"wall"}},created:function(){var t=this;this.generateNodes(),document.addEventListener("keydown",(function(e){"Shift"==e.key&&(t.destroyActive=!0)})),document.addEventListener("keyup",(function(e){"Shift"==e.key?t.destroyActive=!1:"w"==e.key?t.buildingType="wall":"s"==e.key?t.buildingType="start":"e"==e.key&&(t.buildingType="end")}))},methods:{generateNodes:function(){for(var t=0;t<this.mapHeight;t++)for(var e=0;e<this.mapWidth;e++)this.nodes.push({x:e,y:t,className:"node"})},generateRandomMap:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"city",n=new x;n.xdimensions=this.mapWidth,n.ydimensions=this.mapHeight,"desert"==e?(n.maxTunnels=600,n.maxLength=8):"city"==e?(n.maxTunnels=50,n.maxLength=40):"cave"==e?(n.maxTunnels=420,n.maxLength=1):(n.maxTunnels=Math.floor(400*Math.random()),n.maxLength=Math.floor(28*Math.random()));var i=n.createMap();this.resetGrid();for(var s=function(e){setTimeout((function(){for(var n=function(n){var s=t.nodes.find((function(t){return t.x==n&&t.y==e}));i[e][n]&&(s.className="node wall")},s=0;s<i[e].length;s++)n(s)}),50*e)},a=0;a<i.length;a++)s(a)},startBuilding:function(){this.isBuilding=!0},stopBuilding:function(){this.isBuilding=!1},build:function(t){var e=this;if(this.isBuilding||!t.checkForBuilder){var n=this.nodes.find((function(e){return e.x==t.x&&e.y==t.y}));if(this.destroyActive)n.className="node";else{if("start"==this.buildingType||"end"==this.buildingType){var i=this.nodes.find((function(t){return t.className=="node "+e.buildingType}));i&&(i.className="node")}n.className="node "+this.buildingType}}},help:function(){this.modalDisplay=!0},resetGrid:function(){this.nodes=[],this.generateNodes()},visualize:function(){var t=this,e=new g;e.setNodes(this.nodes),e.setWalls(this.nodes.filter((function(t){return"node wall"==t.className})).map((function(e){return t.nodes.indexOf(e)}))),e.setStart(this.nodes.indexOf(this.nodes.find((function(t){return"node start"==t.className})))),e.setEnd(this.nodes.indexOf(this.nodes.find((function(t){return"node end"==t.className}))));try{var n=e.findPath(),i=0,s=function(){var e=n.idx;setTimeout((function(){t.nodes[e].className="node path"}),50*i),n=n.parentNode,i++};while(n)s()}catch(a){"Error: Either start/end node is null or nodes contains less then 2 elements"==a.toString()?alert("Please place a start & end node"):(console.log(a),alert("Uknown Error Occured!"))}}}},w=O,M=(n("8f65"),Object(f["a"])(w,r,o,!1,null,"e6ac98c6",null)),j=M.exports,C={name:"App",components:{Map:j}},N=C,_=(n("034f"),Object(f["a"])(N,s,a,!1,null,null,null)),k=_.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(k)}}).$mount("#app")},"85ec":function(t,e,n){},"89fe":function(t,e,n){t.exports=n.p+"img/cross.8e6d0dc0.svg"},"8f65":function(t,e,n){"use strict";n("3087")}});
//# sourceMappingURL=app.b46b1cd7.js.map